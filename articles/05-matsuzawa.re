= SREチームから始めるFinOpsカルチャーシフト

FinOpsは、クラウドコスト最適化やクラウド財務管理（CFM：Cloud Financial Management）とも呼ばれ、クラウドネイティブ時代のITガバナンスを実現する手法として今や欠かせない分野の1つとなっています。この章では、オブザーバビリティプラットフォームであるNew Relicを組み合わせることの重要性について解説するとともに、FinOpsの実践にNew Relicをどのように活用できるのかについて、実践例を交えて紹介します。

== クラウドから価値を引き出すゲームを始めよう

ゲームを始める前に、登場人物や目的、基本的なルールを理解することが大切です。ここでは、まずFinOpsとは何か、なぜ今この考え方が重要なのかといった背景を説明し、このゲームを攻略する上で最適な主人公と心構えについて解説します。

=== FinOpsとは何か、なぜ必要なのか

FinOpsとは、「財務（Finance）」と「DevOps」を組み合わせた言葉で、エンジニアリング、ビジネス、財務などの部門が連携し、クラウドなどのテクノロジー利用を通じてビジネス価値を最大化していくための考え方や手法、組織文化の総称です。これは、@<b>{クラウドから如何にうまく価値を引き出せるかといったゲーム}のようなものです。

プロジェクト管理などの場面において@<b>{鉄のトライアングル}という比喩が使われ、「スピード、品質、コスト」の3つの要素の内、一般的に同時に追求できるのは2つまでと言われたりします。そして、ソフトウェアやアプリケーション開発の世界では、とくに初期段階においてスピードと品質に注力し、そのトレードオフとしてコストの優先度を下げることを意図的に選択する組織も多く存在してきました。

//image[05-matsuzawa/iron-triangle][鉄のトライアングル]{
//}

従来のオンプレミス環境におけるコストは、サーバーやネットワーク機器を最初に購入する資本的支出（CapEx）が中心でした。最初に予算を計上してしまえば、あとは機器が償却されていくだけなので、インフラ部分に対するリアルタイムなコスト追跡の必要性はそこまで高くありませんでした。また、コスト管理は財務や調達といった専門部門が担うことが多く、エンジニアリングチームが直接的に関わることはほとんどありませんでした。そのため、コストに対してエンジニアリングチームがほとんど何もしなかったとしても、あまり問題は顕在化してきませんでした。

しかし、オンデマンド、セルフサービス、スケーラブルなクラウドの登場によって、状況は一変しました。クラウドのスピードを活かすために、多くの組織が専門部隊を介さずにエンジニアリングチームが直接リソースを調達できるように変化してきたのです。この変化は、組織へ圧倒的なスピードと柔軟性をもたらす一方で、新たな課題も生み出しました。その要因は、クラウドが高度に変動し、予測しにくい事業運営費（OpEx）だということです。オンプレミスのときのようにコスト効率に対して何もしないままだと、いつの間にかコストが膨大になり、ビジネス価値を損なうリスクが高まります。

実際に多くの企業がこの課題に直面し、痛みを伴いながらコスト効率の要素を盛り込んだFinOpsという考え方が必要不可欠であると学んできました。その上で、FinOpsを実践する企業は、スピードや品質に注力するというビジネス判断は維持しつつも、オンプレミスのときのような極端なバランスではなく、最低限のコスト効率の計測や追跡は行った上で情報に基づく意図的な無視から始めるようになってきました。

もちろん、このOpExモデルはネガティブな側面ばかりではありません。むしろ、ポジティブな側面として、エンジニアリングチームがコストを意識するようになることで、エンジニアの技術力とコスト効率の改善がダイレクトに結びつき、より少ないリソースでより大きな成果を上げる、といった価値の最大化へと繋げられるのです。どうでしょう、エンジニアとしての技量が高まれば高まるほど、ビジネス価値という名のゲームスコアと共に、ビジネスへの貢献度も比例して高くなる。なんだかワクワクしてきませんか？そんなエキサイティングなゲームが「FinOps」なのです。

=== ストーリーがサクサク進むオススメ主人公

FinOpsというゲームは、クラウドの利用に関わるすべてのペルソナ（登場人物）が主人公候補になり得ますが、いったいどのペルソナを主人公に選択すれば攻略を進めやすいのでしょうか？最有力候補としては、クラウドへの投資対効果に責任を持つリーダーシップ（インフラ責任者、クラウドCoE責任者、CIO/CTOなどの経営幹部など）や、クラウドを専門的に扱うクラウドCoEチーム、そしてシステムの信頼性を守るSREチームなどが挙げられます。もちろん、どのペルソナを選んでも正解ではありますが、イチオシ主人公はなんといっても本書の読者ターゲットでもある「@<b>{SREチーム}」だと考えています。

次の図は、FinOpsの取り組みをうまく機能させるために必要な要素@<fn>{finops-essential-factor}を示してます。SREチームは、アーキテクチャへの深い理解、適切なSLI/SLO指標の選定、トイル削減のための自動化などの技術力、システムへの改善を実際に適用できる権限を持つなど、必要な要素の大半を高水準で満たしており、FinOps導入の最序盤から別格のパフォーマンスを発揮することができる非常に優秀なキャラと言えます。そして実際に、国内でFinOpsの導入が進んでいる企業の多くが、SREチームにコストKPIを持たせるところからスタートしており、この「クラウドから価値を引き出すゲーム」の上位1、2を争う最強キャラの一角として強い人気を持っているという事実もあります。

//image[05-matsuzawa/finops-essential-factor][FinOpsの取り組みをうまく機能させるために必要な要素]{
//}

//footnote[finops-essential-factor][画像引用：@<href>{https://www.hitachi.co.jp/harc/finops/}]

もちろん、攻略チャートのすべての場面でSREチームが最高のパフォーマンスを発揮できるか、と言われるとそうではありません。とくに攻略チャートの後半、コスト効率をさらに引き上げるために組織全体へとFinOpsの活動を普及させていく段階では、他のペルソナと連携し、組織として足並みをそろえて推進することが必要不可欠になってきます。しかし、リーダーシップのように複数部署にまたがった強権限（内政チート）は持っていないため、他のペルソナと連携し、組織として足並みをそろえるといった部分でやや難しい場面がでてくることもあるでしょう。

でも、心配することはありません。グローバルにはそれらの困難を乗り越えてきた多くの攻略情報が公開されており、それらを活用することでスムーズに攻略を進めることができます。繰り返しになりますが、このゲームの攻略を進める上で、SREチームが最強キャラの一角であることには変わりはありません。FinOpsというゲームの最序盤においてはその能力の高さで、パズルを解くような楽しさを感じながら、ゲームをサクサクと進めていけるはずです。ぜひSREチームからゲームをスタートし、俺TUEEEを体験してみてください。

=== ゲームを攻略する上で心がけること

もしかすると低レベルの主人公の旅立ちの直前で、偉い人が無邪気に「おお、勇者よ！はやく魔王（技術負債）を倒し、この世に光（お金）を取り戻しておくれ！」と最小限の準備金を渡しながら言ってくるかもしれません。プレイヤースキルが高く、綿密なシミュレーションを繰り返し、運の要素も味方すれば、いきなり魔王城へと乗り込み、魔王を倒してしまうことも不可能ではないでしょう。しかし、ほとんどの場合はそれで勝てることはありません。FinOpsというゲームも同じです。

FinOpsは、次の図に示すように「Inform、Optimize、Operate」の3つのフェーズを意識して小さなサイクル@<fn>{finops-lifecycle}を繰り返すことで継続的かつ段階的な改善を行いながら、組織全体を仲間へと引き込み、クラウドコストの最適化、ひいてはビジネス価値の最大化を目指して進めていくことが重要です。

//image[05-matsuzawa/finops-lifecycle][FinOpsライフサイクル]{
//}

 * @<b>{Informフェーズ}：支出の全体像と出所を把握できるようにするとともに、各チームに責任意識を醸成するため、リアルタイムに近いコストデータの可視性を提供するフェーズ
 * @<b>{Optimizeフェーズ}：現状のクラウド利用状況の改善点を特定し、次のOperateフェーズで達成すべきコスト回避とコスト最適化の目標を設定するフェーズ
 * @<b>{Operateフェーズ}：Optimizeフェーズで設定した目標を達成するために、プロセスを継続的に改善しながらアクションを実行するフェーズ

//footnote[finops-lifecycle][画像引用：@<href>{https://www.hitachi.co.jp/harc/finops/}]

これは、いきなり高難易度のクエストに挑戦しようとするのではなく、まずは初級のクエストからクリアし、それを繰り返しながら徐々にスキルや装備、仲間を充実させ、段階的により難しいクエストへと挑戦していく、という考え方と非常によく似ています。FinOpsの取り組みも同様に、最初から完璧を目指すのではなく、まずは小さな成功体験を積み重ねていくことを心がけてください。

=== New Relicという強力なツールを持って旅立とう

この本を手に取った方の中には、「なぜFinOpsの活動にNew Relicを使うのか？」と思った方もいるかもしれません。従来のFinOpsに関する情報は、クラウドサービスが提供するネイティブのコスト管理ツールや、FinOps専任ベンダーが提供するリッチな機能を搭載したサードパーティツールを中心に語られることが多かったからです。しかし、FinOpsを本当に成功させるためには、その考え方やプラクティスが主人公であるSREチームの日常業務にシームレスに組み込まれることが不可欠です。

FinOpsには「@<b>{Data in the Path（通り道にデータを配置する）}」という重要な考え方があります。これは、普段から利用しているツールにFinOpsデータを統合することで、チーム内にコスト意識を浸透させ、より迅速でインテリジェントな意思決定を促すためだと言われています。SREチームにとって、普段からシステムの稼働状況を可視化し、パフォーマンス問題の原因を特定し、改善策を講じるために利用されているNew Relicは、この「Data in the Path」の原則に最適なツールだと言えます。

ここまでお読みいただいた方の中には、こう思われた方もいるかもしれません。「別に普段からアクセスするツールでいいなら、New Relicじゃなくてもいいよね？」と。

もちろん、コストを可視化するだけであれば、New Relic以外のツールでも良いかもしれません。しかし、New Relicを推奨する理由は、その先の「より難しい最適化」にも対応できる点にあります。New Relicは、オブザーバビリティデータとコストデータを結びつけることで、単なるコストの把握を超え、コストがなぜ発生しているのかを深く分析し、パフォーマンスとコスト効率のバランスを取りながら最適化を進めるための有用な機能を提供しています。とくに次の図に示すような「インフラ視点のよくある最適化のポイント」への攻略中盤から、それ以降のより難しいアーキテクチャやアプリケーションの作りに起因したコスト増の要因を取り除いていく、といった場面でNew Relicは非常に有用になってきます。

//image[05-matsuzawa/well-known-optimization][インフラ視点のよくある最適化のポイント]{
//}

具体的な例を挙げると、サーバーレスのアプリケーションや、サーバーレスのデータベースサービスでは、実行時間で課金されるケースが一般的です。こうしたサービスでは、アプリケーションやデータベースのパフォーマンスを調査し、実行時間を改善することが直接的にコストの削減へとつながります。New Relicは、アプリケーションのトランザクションを深く掘り下げてボトルネックを特定したり、データベースクエリの遅延を可視化したりする機能を提供しており、この種のコスト最適化に非常に有用となってきます。

いくらSREチームのポテンシャルが高いからと言っても、やはり強い武器や防具がなければ強敵へと挑むのには無理があります。そのため、New Relicという強力なツールを持って、冒険へと旅立つことをオススメします。ただし、かの有名なゲームのセリフでも「武器や防具は装備しなきゃ意味がないぞ！」と言っているとおり、いくら強力なツールを持っていたとしても使い方をしらなければ真価を発揮することはありません。

次の節からはFinOpsのライフサイクルごとの具体的なNew Relicの活用方法について見ていきましょう。

== クラウドの支出や利用状況を把握しよう

=== Informフェーズ：コストの可視化と

かの有名なゲームのセリフでも、「武器や防具は装備しなきゃ意味がないぞ！」と言っているとおり、ツールは持っているだけでは効果を発揮しません。実際に使いこなすことで初めて、その真価を発揮するのです。

== 最適化の機会を特定しよう

FinOpsの取り組みを進める上で、最適化の機会を特定することは非常に重要です。New Relicを活用することで、コストデータを詳細に分析し、無駄な支出や最適化の余地がある部分を見つけ出すことができます。


== 継続的な改善を行おう

FinOpsの取り組みは一度きりのものではなく、継続的な改善が求められます。New Relicを活用することで、コストの可視化や最適化の機会を特定した後も、常に状況を監視し、改善を続けることが可能です。

具体的には、New Relicのダッシュボードを活用して、リアルタイムでコストデータを監視し、異常値やトレンドを把握することが重要です。また、定期的にコスト分析を行い、どのリソースが無駄に使われているのか、どの部分が最適化の余地があるのかを洗い出すことが求められます。

さらに、SREチームはNew Relicを通じて得られた知見をもとに、エンジニアリングプロセスやアーキテクチャの改善提案を行うことができます。これにより、コスト効率を向上させるだけでなく、全体的なシステムの信頼性やパフォーマンスも向上させることができるのです。

このように、New Relicを活用した継続的な改善の取り組みは、FinOpsの成功にとって欠かせない要素となります。ぜひ、SREチームと連携しながら、効果的な改善活動を進めていきましょう。
